<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loan Prediction</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>

    <nav>Loan Prediction System</nav>

    <div class="container">
        <h2 class="welcome">Welcome to the Loan Approval Predictor!</h2>

        <form id="loanForm" action="/predict" method="POST" onsubmit="cleanInputs()">
            <label for="no_of_dependents">Number of Dependents:</label>
            <input type="number" name="no_of_dependents" required>

            <label for="education">Education:</label>
            <select name="education" required>
                <option value="Graduate">Graduate</option>
                <option value="Not Graduate">Not Graduate</option>
            </select>

            <label for="self_employed">Self Employed:</label>
            <select name="self_employed" required>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select>

            <label for="income_annum">Annual Income:</label>
            <input type="text" name="income_annum" required oninput="formatNumber(this)">

            <label for="loan_amount">Loan Amount:</label>
            <input type="text" name="loan_amount" required oninput="formatNumber(this)">

            <label for="loan_term">Loan Term (Months):</label>
            <input type="number" name="loan_term" required>

            <label for="cibil_score">CIBIL Score:</label>
            <input type="number" name="cibil_score" required>
            <a href="https://www.cibil.com/" target="_blank" class="referral-link">What is CIBIL Score?</a>

            <label for="residential_assets_value">Residential Asset Value:</label>
            <input type="text" name="residential_assets_value" required oninput="formatNumber(this)">
            <a href="https://www.investopedia.com/terms/c/commercial-real-estate.asp" target="_blank" class="referral-link">Learn about Residential Assets</a>

            <label for="commercial_assets_value">Commercial Asset Value:</label>
            <input type="text" name="commercial_assets_value" required oninput="formatNumber(this)">
            <a href="https://www.investopedia.com/terms/c/commercial-real-estate.asp" target="_blank" class="referral-link">Learn about Commercial Assets</a>

            <label for="luxury_assets_value">Luxury Asset Value:</label>
            <input type="text" name="luxury_assets_value" required oninput="formatNumber(this)">
            <a href="https://www.forbes.com/luxury/" target="_blank" class="referral-link">Luxury Assets Explained</a>

            <label for="bank_asset_value">Bank Asset Value:</label>
            <input type="text" name="bank_asset_value" required oninput="formatNumber(this)">
            <a href="https://www.investopedia.com/terms/b/bankassets.asp" target="_blank" class="referral-link">What are Bank Assets?</a>

            <!-- Submit button inside form -->
            <button type="submit" class="predict-button">Predict Loan</button>
        </form>
    </div>

    <script>
        function formatNumber(input) {
            let value = input.value.replace(/,/g, '').replace(/\D/g, '');  // Remove non-numeric characters
            let formattedValue = new Intl.NumberFormat('en-IN').format(value); // Format with commas
            input.value = formattedValue;
        }

        function cleanInputs() {
            // Get all formatted number inputs
            let inputs = document.querySelectorAll("input[type='text']");
            inputs.forEach(input => {
                input.value = input.value.replace(/,/g, '');  // Remove commas before submission
            });
        }
    </script>

</body>
</html>
